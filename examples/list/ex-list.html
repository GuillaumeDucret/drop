<script type="module">
    import { signal, effect } from '../../src/signals/index.js'

    export class List extends HTMLElement {
        constructor() {
            super()
            this.count = signal({ value: 0 })
            this.countries = signal([
                { code: 'FR', label: 'fr' },
                { code: 'CA', label: 'ca' }
            ])
        }

        #increment(inc = 1) {
            this.count.value += inc

            const button = this.shadow.querySelector('button')
            button.style.color = 'red'

            this.countries.push({ code: 'US' + this.count.value, label: 'us' })
        }
        #move() {
            this.countries.push(this.countries.shift())
        }
        #remove() {
            this.countries[0] = { code: 'FR', label: 'fr1' }
            //this.countries[0].label = 'fr11'
            //this.countries.code = 'FR'
        }
    }
</script>

<template shadowRootMode="open">
    <div>
        <ul>
            {#each countries as country (country.code)}
            <ex-item code="{country.label}">OO</ex-item>
            {/each}
        </ul>
        <button onclick="{increment()}">counter is {count.value}</button>
        <button onclick="{move()}">move</button>
        <button onclick="{remove()}">remove</button>
    </div>
    <style>
        div {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        button {
            display: block;
            padding: 0.5rem;
            font-size: 1.1rem;
            text-transform: uppercase;
        }
    </style>
</template>
